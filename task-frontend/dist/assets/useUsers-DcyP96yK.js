import{D as h,i as l,z as v}from"./index-BdEAMFYz.js";function w(){const{get:P}=h(),o=l([]),u=l(!1),i=l(0),a=l(1),t=l(10),c=v(()=>Math.ceil(i.value/t.value)),g=v(()=>a.value<c.value),m=v(()=>a.value>1),r=async(e={})=>{u.value=!0;try{const s=new URLSearchParams;e.page&&s.append("page",e.page.toString()),e.limit&&s.append("limit",e.limit.toString());const f=s.toString(),d=`/admin/users${f?`?${f}`:""}`,p=await P(d);if(p.ok){const n=p.data;o.value=n.users||[],i.value=n.total||0,a.value=n.page||1,t.value=n.limit||10}}catch(s){console.error("Fetch users error:",s),o.value=[]}finally{u.value=!1}};return{users:o,loading:u,total:i,currentPage:a,limit:t,totalPages:c,hasNextPage:g,hasPrevPage:m,fetchUsers:r,nextPage:()=>{g.value&&r({page:a.value+1,limit:t.value})},prevPage:()=>{m.value&&r({page:a.value-1,limit:t.value})},goToPage:e=>{e>=1&&e<=c.value&&r({page:e,limit:t.value})}}}export{w as u};
