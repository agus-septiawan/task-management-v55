import{u as M}from"./useUsers-DcyP96yK.js";import{u as j}from"./useTasks-BhX_Bmpf.js";import{t as B,g as U,a as V}from"./helpers-DfrTfKig.js";import{d as z,z as p,q as L,c as o,a as s,t as a,b as c,w as u,r as N,f as i,F as k,B as y,o as l,g as m,n as b,l as A}from"./index-BdEAMFYz.js";const H={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},S={class:"card p-6"},D={class:"flex items-center"},P={class:"ml-4"},F={class:"text-2xl font-semibold text-gray-900"},R={class:"card p-6"},q={class:"flex items-center"},E={class:"ml-4"},Q={class:"text-2xl font-semibold text-gray-900"},G={class:"card p-6"},I={class:"flex items-center"},J={class:"ml-4"},K={class:"text-2xl font-semibold text-gray-900"},O={class:"card p-6"},W={class:"flex items-center"},X={class:"ml-4"},Y={class:"text-2xl font-semibold text-gray-900"},Z={class:"card p-6 mb-8"},$={class:"flex flex-wrap gap-4"},ss={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ts={class:"card p-6"},es={class:"flex justify-between items-center mb-4"},os={key:0,class:"text-center py-8"},ls={key:1,class:"text-center py-8"},as={key:2,class:"space-y-3"},ns={class:"flex items-center space-x-3"},is={class:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center"},ds={class:"text-white font-medium text-sm"},rs={class:"font-medium text-gray-900 text-sm"},cs={class:"text-xs text-gray-500"},us={class:"card p-6"},ms={class:"flex justify-between items-center mb-4"},xs={key:0,class:"text-center py-8"},ps={key:1,class:"text-center py-8"},gs={key:2,class:"space-y-3"},vs={class:"flex justify-between items-start"},fs={class:"flex-1"},_s={class:"font-medium text-gray-900 text-sm"},ks={key:0,class:"text-xs text-gray-600 mt-1"},Cs=z({__name:"AdminDashboardPage",setup(ys){const{users:g,loading:h,fetchUsers:w}=M(),{tasks:d,loading:T,fetchTasks:C}=j(),v=p(()=>g.value.slice(0,5)),f=p(()=>d.value.slice(0,5)),r=p(()=>{const _=g.value.length,t=d.value.length,n=d.value.filter(x=>x.status==="pending").length,e=d.value.filter(x=>x.status==="completed").length;return{totalUsers:_,totalTasks:t,pendingTasks:n,completedTasks:e}});return L(async()=>{await Promise.all([w({limit:10}),C({limit:10})])}),(_,t)=>{const n=N("router-link");return l(),o("div",null,[t[19]||(t[19]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold text-gray-900"},"Admin Dashboard"),s("p",{class:"text-gray-600 mt-2"},"System overview and management")],-1)),s("div",H,[s("div",S,[s("div",D,[t[1]||(t[1]=s("div",{class:"p-2 bg-blue-100 rounded-lg"},[s("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),s("div",P,[t[0]||(t[0]=s("p",{class:"text-sm font-medium text-gray-600"},"Total Users",-1)),s("p",F,a(r.value.totalUsers),1)])])]),s("div",R,[s("div",q,[t[3]||(t[3]=s("div",{class:"p-2 bg-green-100 rounded-lg"},[s("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),s("div",E,[t[2]||(t[2]=s("p",{class:"text-sm font-medium text-gray-600"},"Total Tasks",-1)),s("p",Q,a(r.value.totalTasks),1)])])]),s("div",G,[s("div",I,[t[5]||(t[5]=s("div",{class:"p-2 bg-yellow-100 rounded-lg"},[s("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",J,[t[4]||(t[4]=s("p",{class:"text-sm font-medium text-gray-600"},"Pending Tasks",-1)),s("p",K,a(r.value.pendingTasks),1)])])]),s("div",O,[s("div",W,[t[7]||(t[7]=s("div",{class:"p-2 bg-purple-100 rounded-lg"},[s("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",X,[t[6]||(t[6]=s("p",{class:"text-sm font-medium text-gray-600"},"Completed Tasks",-1)),s("p",Y,a(r.value.completedTasks),1)])])])]),s("div",Z,[t[10]||(t[10]=s("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),s("div",$,[c(n,{to:"/admin/users",class:"btn-primary"},{default:u(()=>t[8]||(t[8]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),m(" Manage Users ",-1)])),_:1,__:[8]}),c(n,{to:"/admin/tasks",class:"btn-secondary"},{default:u(()=>t[9]||(t[9]=[s("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),m(" View All Tasks ",-1)])),_:1,__:[9]})])]),s("div",ss,[s("div",ts,[s("div",es,[t[12]||(t[12]=s("h2",{class:"text-xl font-semibold text-gray-900"},"Recent Users",-1)),c(n,{to:"/admin/users",class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:u(()=>t[11]||(t[11]=[m(" View all → ",-1)])),_:1,__:[11]})]),i(h)?(l(),o("div",os,t[13]||(t[13]=[s("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),s("p",{class:"text-gray-500 mt-2 text-sm"},"Loading users...",-1)]))):v.value.length===0?(l(),o("div",ls,t[14]||(t[14]=[s("p",{class:"text-gray-500"},"No users found",-1)]))):(l(),o("div",as,[(l(!0),o(k,null,y(v.value,e=>(l(),o("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[s("div",ns,[s("div",is,[s("span",ds,a(e.name.charAt(0).toUpperCase()),1)]),s("div",null,[s("p",rs,a(e.name),1),s("p",cs,a(e.email),1)])]),s("span",{class:b(["text-xs px-2 py-1 rounded-full",e.role==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},a(e.role),3)]))),128))]))]),s("div",us,[s("div",ms,[t[16]||(t[16]=s("h2",{class:"text-xl font-semibold text-gray-900"},"Recent Tasks",-1)),c(n,{to:"/admin/tasks",class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:u(()=>t[15]||(t[15]=[m(" View all → ",-1)])),_:1,__:[15]})]),i(T)?(l(),o("div",xs,t[17]||(t[17]=[s("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),s("p",{class:"text-gray-500 mt-2 text-sm"},"Loading tasks...",-1)]))):f.value.length===0?(l(),o("div",ps,t[18]||(t[18]=[s("p",{class:"text-gray-500"},"No tasks found",-1)]))):(l(),o("div",gs,[(l(!0),o(k,null,y(f.value,e=>(l(),o("div",{key:e.id,class:"p-3 bg-gray-50 rounded-lg"},[s("div",vs,[s("div",fs,[s("p",_s,a(e.title),1),e.description?(l(),o("p",ks,a(i(B)(e.description,60)),1)):A("",!0)]),s("span",{class:b(i(U)(e.status))},a(i(V)(e.status)),3)])]))),128))]))])])])}}});export{Cs as default};
