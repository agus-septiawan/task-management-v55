import{d as k,u as P,i as w,z as A,q as C,c as n,a as t,t as e,f as l,l as N,o as d}from"./index-BdEAMFYz.js";import{u as S}from"./useTasks-BhX_Bmpf.js";import{f as B}from"./helpers-DfrTfKig.js";const D={class:"max-w-2xl"},M={class:"card p-6 mb-6"},T={class:"space-y-4"},U={class:"flex items-center space-x-4"},z={class:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center"},E={class:"text-white font-bold text-xl"},I={class:"text-lg font-medium text-gray-900"},L={class:"text-gray-600"},V={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mt-1"},j={class:"card p-6 mb-6"},q={class:"space-y-4"},F={class:"mt-1 text-sm text-gray-900"},O={class:"mt-1 text-sm text-gray-900"},R={class:"mt-1 text-sm text-gray-900"},Y={key:0},G={class:"mt-1 text-sm text-gray-900 capitalize"},H={class:"mt-1 text-sm text-gray-900"},J={class:"card p-6"},K={key:0,class:"text-center py-8"},Q={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},W={class:"text-center p-4 bg-yellow-50 rounded-lg"},X={class:"text-2xl font-bold text-yellow-600"},Z={class:"text-center p-4 bg-blue-50 rounded-lg"},$={class:"text-2xl font-bold text-blue-600"},tt={class:"text-center p-4 bg-green-50 rounded-lg"},st={class:"text-2xl font-bold text-green-600"},it=k({__name:"ProfilePage",setup(et){const{user:o}=P(),{tasks:r,fetchTasks:h}=S(),x=w(!0),m=A(()=>{const c=r.value.filter(a=>a.status==="pending").length,s=r.value.filter(a=>a.status==="in_progress").length,i=r.value.filter(a=>a.status==="completed").length;return{pending:c,inProgress:s,completed:i}});return C(async()=>{try{await h({limit:1e3})}finally{x.value=!1}}),(c,s)=>{var i,a,u,g,f,v,p,b,_,y;return d(),n("div",null,[s[12]||(s[12]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Profile"),t("p",{class:"text-gray-600 mt-2"},"Manage your account information")],-1)),t("div",D,[t("div",M,[s[0]||(s[0]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Profile Information",-1)),t("div",T,[t("div",U,[t("div",z,[t("span",E,e((a=(i=l(o))==null?void 0:i.name)==null?void 0:a.charAt(0).toUpperCase()),1)]),t("div",null,[t("h3",I,e((u=l(o))==null?void 0:u.name),1),t("p",L,e((g=l(o))==null?void 0:g.email),1),t("span",V,e(((f=l(o))==null?void 0:f.role)==="admin"?"Administrator":"User"),1)])])])]),t("div",j,[s[6]||(s[6]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Account Details",-1)),t("div",q,[t("div",null,[s[1]||(s[1]=t("label",{class:"block text-sm font-medium text-gray-700"},"Full Name",-1)),t("div",F,e((v=l(o))==null?void 0:v.name),1)]),t("div",null,[s[2]||(s[2]=t("label",{class:"block text-sm font-medium text-gray-700"},"Email Address",-1)),t("div",O,e((p=l(o))==null?void 0:p.email),1)]),t("div",null,[s[3]||(s[3]=t("label",{class:"block text-sm font-medium text-gray-700"},"Role",-1)),t("div",R,e(((b=l(o))==null?void 0:b.role)==="admin"?"Administrator":"User"),1)]),(_=l(o))!=null&&_.oauth_provider?(d(),n("div",Y,[s[4]||(s[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"OAuth Provider",-1)),t("div",G,e(l(o).oauth_provider),1)])):N("",!0),t("div",null,[s[5]||(s[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Member Since",-1)),t("div",H,e((y=l(o))!=null&&y.created_at?l(B)(l(o).created_at):"N/A"),1)])])]),t("div",J,[s[11]||(s[11]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Your Statistics",-1)),x.value?(d(),n("div",K,s[7]||(s[7]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),t("p",{class:"text-gray-500 mt-2"},"Loading statistics...",-1)]))):(d(),n("div",Q,[t("div",W,[t("div",X,e(m.value.pending),1),s[8]||(s[8]=t("div",{class:"text-sm text-yellow-700"},"Pending Tasks",-1))]),t("div",Z,[t("div",$,e(m.value.inProgress),1),s[9]||(s[9]=t("div",{class:"text-sm text-blue-700"},"In Progress",-1))]),t("div",tt,[t("div",st,e(m.value.completed),1),s[10]||(s[10]=t("div",{class:"text-sm text-green-700"},"Completed",-1))])]))])])])}}});export{it as default};
