import{d as w,u as C,i as M,z as v,q as T,c as n,a as t,e as B,l as f,t as a,f as r,b as k,g as m,w as _,r as V,F as j,B as N,o as l,n as z}from"./index-BdEAMFYz.js";import{u as P}from"./useTasks-BhX_Bmpf.js";import{t as D,f as L,g as A,a as H}from"./helpers-DfrTfKig.js";import{_ as S}from"./CreateTaskModal.vue_vue_type_script_setup_true_lang-BB0fCVLP.js";const $={class:"mb-8"},F={class:"text-gray-600 mt-2"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},E={class:"card p-6"},I={class:"flex items-center"},Q={class:"ml-4"},R={class:"text-2xl font-semibold text-gray-900"},W={class:"card p-6"},G={class:"flex items-center"},J={class:"ml-4"},K={class:"text-2xl font-semibold text-gray-900"},O={class:"card p-6"},U={class:"flex items-center"},X={class:"ml-4"},Y={class:"text-2xl font-semibold text-gray-900"},Z={class:"card p-6 mb-8"},tt={class:"flex flex-wrap gap-4"},st={class:"card p-6"},et={class:"flex justify-between items-center mb-4"},ot={key:0,class:"text-center py-8"},at={key:1,class:"text-center py-8"},lt={key:2,class:"space-y-3"},nt={class:"flex-1"},rt={class:"font-medium text-gray-900"},it={key:0,class:"text-sm text-gray-600 mt-1"},dt={class:"text-xs text-gray-500 mt-2"},ut={class:"ml-4"},vt=w({__name:"DashboardPage",setup(ct){const{user:h}=C(),{tasks:i,loading:y,fetchTasks:p}=P(),d=M(!1),x=v(()=>i.value.slice(0,5)),c=v(()=>{const g=i.value.filter(o=>o.status==="pending").length,s=i.value.filter(o=>o.status==="in_progress").length,u=i.value.filter(o=>o.status==="completed").length;return{pending:g,inProgress:s,completed:u}}),b=()=>{d.value=!1,p({limit:20})};return T(()=>{p({limit:20})}),(g,s)=>{var o;const u=V("router-link");return l(),n("div",null,[t("div",$,[s[2]||(s[2]=t("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard",-1)),t("p",F,"Welcome back, "+a((o=r(h))==null?void 0:o.name)+"!",1)]),t("div",q,[t("div",E,[t("div",I,[s[4]||(s[4]=t("div",{class:"p-2 bg-yellow-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Q,[s[3]||(s[3]=t("p",{class:"text-sm font-medium text-gray-600"},"Pending Tasks",-1)),t("p",R,a(c.value.pending),1)])])]),t("div",W,[t("div",G,[s[6]||(s[6]=t("div",{class:"p-2 bg-blue-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),t("div",J,[s[5]||(s[5]=t("p",{class:"text-sm font-medium text-gray-600"},"In Progress",-1)),t("p",K,a(c.value.inProgress),1)])])]),t("div",O,[t("div",U,[s[8]||(s[8]=t("div",{class:"p-2 bg-green-100 rounded-lg"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",X,[s[7]||(s[7]=t("p",{class:"text-sm font-medium text-gray-600"},"Completed",-1)),t("p",Y,a(c.value.completed),1)])])])]),t("div",Z,[s[11]||(s[11]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",tt,[t("button",{onClick:s[0]||(s[0]=e=>d.value=!0),class:"btn-primary"},s[9]||(s[9]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m(" Create New Task ",-1)])),k(u,{to:"/tasks",class:"btn-secondary"},{default:_(()=>s[10]||(s[10]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),m(" View All Tasks ",-1)])),_:1,__:[10]})])]),t("div",st,[t("div",et,[s[13]||(s[13]=t("h2",{class:"text-xl font-semibold text-gray-900"},"Recent Tasks",-1)),k(u,{to:"/tasks",class:"text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:_(()=>s[12]||(s[12]=[m(" View all â†’ ",-1)])),_:1,__:[12]})]),r(y)?(l(),n("div",ot,s[14]||(s[14]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),t("p",{class:"text-gray-500 mt-2"},"Loading tasks...",-1)]))):x.value.length===0?(l(),n("div",at,s[15]||(s[15]=[t("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),t("p",{class:"text-gray-500"},"No tasks yet. Create your first task to get started!",-1)]))):(l(),n("div",lt,[(l(!0),n(j,null,N(x.value,e=>(l(),n("div",{key:e.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200"},[t("div",nt,[t("h3",rt,a(e.title),1),e.description?(l(),n("p",it,a(r(D)(e.description,80)),1)):f("",!0),t("p",dt,a(r(L)(e.created_at)),1)]),t("div",ut,[t("span",{class:z(r(A)(e.status))},a(r(H)(e.status)),3)])]))),128))]))]),d.value?(l(),B(S,{key:0,onClose:s[1]||(s[1]=e=>d.value=!1),onCreated:b})):f("",!0)])}}});export{vt as default};
