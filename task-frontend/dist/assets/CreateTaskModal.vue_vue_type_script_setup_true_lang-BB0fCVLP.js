import{d as h,i as p,j as f,c as a,a as t,k as v,l as k,m as c,v as x,n as T,t as b,C as M,g as V,o as n}from"./index-BdEAMFYz.js";import{u as _}from"./useTasks-BhX_Bmpf.js";const B={class:"mt-3"},S={class:"space-y-4"},j={key:0,class:"mt-1 text-sm text-red-600"},z={key:0,class:"mt-4 bg-red-50 border border-red-200 rounded-md p-4"},D={class:"text-sm text-red-600"},E={class:"flex justify-end space-x-3 mt-6"},N=["disabled"],P={key:0,class:"flex items-center"},U={key:1},H=h({__name:"CreateTaskModal",emits:["close","created"],setup(q,{emit:y}){const m=y,{createTask:g}=_(),d=p(!1),i=p(""),s=f({title:"",description:"",status:"pending"}),l=f({title:""}),w=()=>{l.title="";let o=!0;return s.title.trim()?s.title.length>255&&(l.title="Title must be less than 255 characters",o=!1):(l.title="Title is required",o=!1),o},C=async()=>{if(w()){d.value=!0,i.value="";try{const o={title:s.title.trim(),description:s.description.trim()||void 0,status:s.status};await g(o)?m("created"):i.value="Failed to create task. Please try again."}catch(o){i.value="An error occurred while creating the task.",console.error("Create task error:",o)}finally{d.value=!1}}},u=()=>{m("close")};return(o,e)=>(n(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:u},[t("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:e[3]||(e[3]=v(()=>{},["stop"]))},[t("div",B,[t("div",{class:"flex justify-between items-center mb-4"},[e[5]||(e[5]=t("h3",{class:"text-lg font-medium text-gray-900"},"Create New Task",-1)),t("button",{onClick:u,class:"text-gray-400 hover:text-gray-600"},e[4]||(e[4]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("form",{onSubmit:v(C,["prevent"])},[t("div",S,[t("div",null,[e[6]||(e[6]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Title * ",-1)),c(t("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=r=>s.title=r),type:"text",required:"",class:T(["form-input mt-1",{"border-red-500":l.title}]),placeholder:"Enter task title"},null,2),[[x,s.title]]),l.title?(n(),a("p",j,b(l.title),1)):k("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),c(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=r=>s.description=r),rows:"3",class:"form-input mt-1",placeholder:"Enter task description (optional)"},null,512),[[x,s.description]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"status",class:"block text-sm font-medium text-gray-700"}," Status ",-1)),c(t("select",{id:"status","onUpdate:modelValue":e[2]||(e[2]=r=>s.status=r),class:"form-select mt-1"},e[8]||(e[8]=[t("option",{value:"pending"},"Pending",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"completed"},"Completed",-1)]),512),[[M,s.status]])])]),i.value?(n(),a("div",z,[t("p",D,b(i.value),1)])):k("",!0),t("div",E,[t("button",{type:"button",onClick:u,class:"btn-secondary"}," Cancel "),t("button",{type:"submit",disabled:d.value,class:"btn-primary"},[d.value?(n(),a("span",P,e[10]||(e[10]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),V(" Creating... ",-1)]))):(n(),a("span",U,"Create Task"))],8,N)])],32)])])]))}});export{H as _};
