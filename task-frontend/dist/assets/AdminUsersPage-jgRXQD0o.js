import{u as P}from"./useUsers-DcyP96yK.js";import{f as M}from"./helpers-DfrTfKig.js";import{d as z,z as U,q as N,c as r,a as t,l as B,t as o,f as e,F as v,B as f,n as l,o as i,h as V,g as A}from"./index-BdEAMFYz.js";const H={class:"card overflow-hidden"},j={class:"px-6 py-4 border-b border-gray-200"},D={class:"text-lg font-medium text-gray-900"},E={key:0,class:"text-center py-12"},S={key:1,class:"text-center py-12"},F={key:2,class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},T={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},I={class:"flex items-center"},J={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center mr-4"},O={class:"text-white font-medium"},R={class:"text-sm font-medium text-gray-900"},$={class:"text-sm text-gray-500"},G={class:"px-6 py-4 whitespace-nowrap"},K={class:"text-sm text-gray-900"},Q={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},X={key:0,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full"},Y={key:1,class:"text-gray-400"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},tt={key:3,class:"px-6 py-4 border-t border-gray-200"},et={class:"flex items-center justify-between"},st={class:"text-sm text-gray-700"},at={class:"flex space-x-2"},ot=["disabled"],rt={class:"flex space-x-1"},it=["onClick"],nt=["disabled"],pt=z({__name:"AdminUsersPage",setup(dt){const{users:p,loading:b,total:c,currentPage:n,limit:m,totalPages:u,hasNextPage:h,hasPrevPage:g,fetchUsers:w,nextPage:y,prevPage:_,goToPage:k}=P(),C=U(()=>{const x=[],a=Math.max(1,n.value-2),s=Math.min(u.value,n.value+2);for(let d=a;d<=s;d++)x.push(d);return x});return N(()=>{w({page:1,limit:10})}),(x,a)=>(i(),r("div",null,[a[6]||(a[6]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Users Management"),t("p",{class:"text-gray-600 mt-2"},"Manage all users in the system")],-1)),t("div",H,[t("div",j,[t("h2",D," Users ("+o(e(c))+" total) ",1)]),e(b)?(i(),r("div",E,a[2]||(a[2]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},null,-1),t("p",{class:"text-gray-500 mt-2"},"Loading users...",-1)]))):e(p).length===0?(i(),r("div",S,a[3]||(a[3]=[t("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),t("p",{class:"text-gray-500"},"No users found",-1)]))):(i(),r("div",F,[t("table",L,[a[5]||(a[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Role "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," OAuth Provider "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Joined ")])],-1)),t("tbody",T,[(i(!0),r(v,null,f(e(p),s=>(i(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",q,[t("div",I,[t("div",J,[t("span",O,o(s.name.charAt(0).toUpperCase()),1)]),t("div",null,[t("div",R,o(s.name),1),t("div",$,"ID: "+o(s.id),1)])])]),t("td",G,[t("div",K,o(s.email),1)]),t("td",Q,[t("span",{class:l(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.role==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"])},o(s.role==="admin"?"Administrator":"User"),3)]),t("td",W,[s.oauth_provider?(i(),r("span",X,[a[4]||(a[4]=V('<svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"></path></svg>',1)),A(" "+o(s.oauth_provider),1)])):(i(),r("span",Y,"Email/Password"))]),t("td",Z,o(e(M)(s.created_at)),1)]))),128))])])])),e(u)>1?(i(),r("div",tt,[t("div",et,[t("div",st," Showing "+o((e(n)-1)*e(m)+1)+" to "+o(Math.min(e(n)*e(m),e(c)))+" of "+o(e(c))+" results ",1),t("div",at,[t("button",{onClick:a[0]||(a[0]=(...s)=>e(_)&&e(_)(...s)),disabled:!e(g),class:l(["btn-secondary text-sm",{"opacity-50 cursor-not-allowed":!e(g)}])}," Previous ",10,ot),t("div",rt,[(i(!0),r(v,null,f(C.value,s=>(i(),r("button",{key:s,onClick:d=>e(k)(s),class:l(["px-3 py-1 text-sm rounded-md",s===e(n)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},o(s),11,it))),128))]),t("button",{onClick:a[1]||(a[1]=(...s)=>e(y)&&e(y)(...s)),disabled:!e(h),class:l(["btn-secondary text-sm",{"opacity-50 cursor-not-allowed":!e(h)}])}," Next ",10,nt)])])])):B("",!0)])]))}});export{pt as default};
